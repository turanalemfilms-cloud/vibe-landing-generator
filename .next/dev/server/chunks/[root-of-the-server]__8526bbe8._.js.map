{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/gulzhanserikbay/vibe-landing-generator/src/lib/siteConfig.ts"],"sourcesContent":["import { z } from 'zod'\n\nexport const StyleKey = z.enum(['minimalist_tech', 'bold_modern', 'clean_corporate'])\nexport type StyleKey = z.infer<typeof StyleKey>\n\nexport const SiteBriefSchema = z.object({\n  businessName: z.string().min(1),\n  targetAudience: z.string().min(1),\n  services: z.array(z.string().min(1)).min(1),\n  uniqueSellingPoints: z.array(z.string().min(1)).min(1),\n  cta: z\n    .object({\n      label: z.string().min(1),\n      href: z.string().min(1),\n    })\n    .default({ label: 'Өтінім қалдыру', href: '#lead' }),\n  language: z.literal('KZ').default('KZ'),\n})\nexport type SiteBrief = z.infer<typeof SiteBriefSchema>\n\nexport const TailwindStyleTokensSchema = z.object({\n  fontHeading: z.string().min(1),\n  fontBody: z.string().min(1),\n  bg: z.string().min(1),\n  card: z.string().min(1),\n  text: z.string().min(1),\n  muted: z.string().min(1),\n  border: z.string().min(1),\n  accent: z.string().min(1),\n  accentText: z.string().min(1),\n  accentRing: z.string().min(1),\n  radiusCard: z.string().min(1),\n  radiusCardSm: z.string().min(1),\n  radiusButton: z.string().min(1),\n  radiusPill: z.string().min(1),\n  heroPadding: z.string().min(1),\n  sectionPadding: z.string().min(1),\n})\nexport type TailwindStyleTokens = z.infer<typeof TailwindStyleTokensSchema>\n\nexport const BrandTokensSchema = z.object({\n  brandName: z.string().min(1),\n  colors: z.object({\n    // iOS 26-style system colors (light mode)\n    light: z.object({\n      bg: z.string().min(1), // hex\n      surface: z.string().min(1),\n      text: z.string().min(1),\n      muted: z.string().min(1),\n      border: z.string().min(1),\n      primary: z.string().min(1), // iOS system color (Blue/Green/Orange/Red/Purple/Pink)\n      primaryText: z.string().min(1),\n      accent: z.string().min(1),\n      secondary: z.string().optional(), // iOS secondary color\n    }),\n    // iOS 26-style system colors (dark mode)\n    dark: z.object({\n      bg: z.string().min(1),\n      surface: z.string().min(1),\n      text: z.string().min(1),\n      muted: z.string().min(1),\n      border: z.string().min(1),\n      primary: z.string().min(1),\n      primaryText: z.string().min(1),\n      accent: z.string().min(1),\n      secondary: z.string().optional(),\n    }),\n  }),\n  typography: z.object({\n    heading: z.enum(['space', 'syne', 'manrope']),\n    body: z.enum(['inter', 'manrope']),\n  }),\n  radius: z.object({\n    card: z.enum(['xl', '2xl', '3xl']),\n    button: z.enum(['xl', '2xl']),\n  }),\n  assets: z\n    .object({\n      heroBgSvg: z.string().min(1),\n    })\n    .optional(),\n})\nexport type BrandTokens = z.infer<typeof BrandTokensSchema>\n\n// iOS 26 system color palette (vibrant, saturated)\nexport const iOS26SystemColors = {\n  blue: { light: '#007AFF', dark: '#0A84FF' },\n  green: { light: '#34C759', dark: '#30D158' },\n  orange: { light: '#FF9500', dark: '#FF9F0A' },\n  red: { light: '#FF3B30', dark: '#FF453A' },\n  purple: { light: '#AF52DE', dark: '#BF5AF2' },\n  pink: { light: '#FF2D55', dark: '#FF375F' },\n  yellow: { light: '#FFCC00', dark: '#FFD60A' },\n  indigo: { light: '#5856D6', dark: '#5E5CE6' },\n  teal: { light: '#5AC8FA', dark: '#64D2FF' },\n  mint: { light: '#00C7BE', dark: '#66EFE5' },\n} as const\n\nexport type iOS26SystemColorName = keyof typeof iOS26SystemColors\n\nexport const LandingContentSchema = z.object({\n  hero: z.object({\n    badge: z.string().min(1),\n    headline: z.string().min(1),\n    subheadline: z.string().min(1),\n  }),\n  stats: z\n    .object({\n      title: z.string().min(1),\n      items: z.array(z.object({ label: z.string().min(1), value: z.string().min(1) })).min(2).max(4),\n    })\n    .optional(),\n  features: z.object({\n    title: z.string().min(1),\n    items: z.array(\n      z.object({\n        title: z.string().min(1),\n        description: z.string().min(1),\n      })\n    ).min(3).max(6),\n  }),\n  testimonials: z\n    .object({\n      title: z.string().min(1),\n      items: z\n        .array(\n          z.object({\n            name: z.string().min(1),\n            role: z.string().min(1),\n            quote: z.string().min(1),\n          })\n        )\n        .min(2)\n        .max(4),\n    })\n    .optional(),\n  faq: z\n    .object({\n      title: z.string().min(1),\n      items: z.array(z.object({ q: z.string().min(1), a: z.string().min(1) })).min(3).max(6),\n    })\n    .optional(),\n  pricing: z.object({\n    title: z.string().min(1),\n    plans: z.array(\n      z.object({\n        name: z.string().min(1),\n        price: z.string().min(1),\n        description: z.string().min(1),\n        bullets: z.array(z.string().min(1)).min(3).max(8),\n        highlighted: z.boolean().default(false),\n      })\n    ).min(2).max(3),\n  }),\n  finalCta: z\n    .object({\n      title: z.string().min(1),\n      subtitle: z.string().min(1),\n    })\n    .optional(),\n  footer: z.object({\n    note: z.string().min(1),\n  }),\n})\nexport type LandingContent = z.infer<typeof LandingContentSchema>\n\nexport const SectionType = z.enum([\n  'hero',\n  'stats',\n  'features',\n  'pricing',\n  'testimonials',\n  'faq',\n  'lead',\n  'footer',\n])\nexport type SectionType = z.infer<typeof SectionType>\n\nexport const SiteLayoutSectionSchema = z.object({\n  type: SectionType,\n  variant: z.string().min(1).optional(),\n  anchor: z.string().min(1).optional(),\n})\nexport type SiteLayoutSection = z.infer<typeof SiteLayoutSectionSchema>\n\nexport const SiteLayoutSchema = z.object({\n  sections: z.array(SiteLayoutSectionSchema).min(3).max(12),\n})\nexport type SiteLayout = z.infer<typeof SiteLayoutSchema>\n\nexport const FreeformHtmlSchema = z.object({\n  html: z.string().min(1), // Full HTML (sanitized)\n  css: z.string().min(1).optional(), // Optional separate CSS\n  js: z.string().optional(), // Optional JS (sanitized, no eval/Function)\n})\nexport type FreeformHtml = z.infer<typeof FreeformHtmlSchema>\n\nexport const SiteConfigSchema = z.object({\n  version: z.literal(1),\n  styleKey: StyleKey,\n  tokens: TailwindStyleTokensSchema,\n  brand: BrandTokensSchema.optional(),\n  brief: SiteBriefSchema,\n  content: LandingContentSchema,\n  layout: SiteLayoutSchema.optional(),\n  freeform: FreeformHtmlSchema.optional(), // Free-form HTML/CSS/JS (Cursor-like)\n})\nexport type SiteConfig = z.infer<typeof SiteConfigSchema>\n\nexport function defaultLayoutForContent(content: LandingContent): SiteLayout {\n  const sections: SiteLayoutSection[] = [\n    { type: 'hero', variant: 'split', anchor: 'top' },\n  ]\n  if (content.stats) sections.push({ type: 'stats', variant: 'cards' })\n  sections.push({ type: 'features', variant: 'grid', anchor: 'features' })\n  sections.push({ type: 'pricing', variant: 'cards', anchor: 'pricing' })\n  if (content.testimonials) sections.push({ type: 'testimonials', variant: 'quotes' })\n  if (content.faq) sections.push({ type: 'faq', variant: 'accordion', anchor: 'faq' })\n  sections.push({ type: 'lead', variant: 'form', anchor: 'lead' })\n  sections.push({ type: 'footer', variant: 'simple' })\n  return { sections }\n}\n\nexport function tokensForStyle(styleKey: StyleKey): TailwindStyleTokens {\n  switch (styleKey) {\n    case 'minimalist_tech':\n      return {\n        fontHeading: 'var(--font-space)',\n        fontBody: 'var(--font-inter)',\n        bg: 'bg-gradient-to-b from-slate-950 via-slate-950 to-black',\n        card: 'bg-white/5 backdrop-blur border border-white/10 shadow-[0_20px_60px_rgba(0,0,0,0.35)]',\n        text: 'text-white',\n        muted: 'text-white/70',\n        border: 'border-white/10',\n        accent: 'bg-sky-400',\n        accentText: 'text-slate-950',\n        accentRing: 'ring-2 ring-sky-400/40',\n        radiusCard: 'rounded-3xl',\n        radiusCardSm: 'rounded-2xl',\n        radiusButton: 'rounded-xl',\n        radiusPill: 'rounded-full',\n        heroPadding: 'px-4 pt-14 pb-10',\n        sectionPadding: 'px-4 py-10',\n      }\n    case 'bold_modern':\n      return {\n        fontHeading: 'var(--font-syne)',\n        fontBody: 'var(--font-inter)',\n        bg: 'bg-gradient-to-b from-black via-zinc-950 to-slate-900',\n        card: 'bg-white/5 border border-white/10 shadow-[0_25px_70px_rgba(0,0,0,0.5)]',\n        text: 'text-white',\n        muted: 'text-white/70',\n        border: 'border-white/10',\n        accent: 'bg-fuchsia-500',\n        accentText: 'text-white',\n        accentRing: 'ring-2 ring-fuchsia-500/40',\n        radiusCard: 'rounded-[28px]',\n        radiusCardSm: 'rounded-2xl',\n        radiusButton: 'rounded-2xl',\n        radiusPill: 'rounded-full',\n        heroPadding: 'px-4 pt-16 pb-10',\n        sectionPadding: 'px-4 py-10',\n      }\n    case 'clean_corporate':\n      return {\n        fontHeading: 'var(--font-manrope)',\n        fontBody: 'var(--font-inter)',\n        bg: 'bg-gradient-to-b from-slate-50 to-white',\n        card: 'bg-white border border-slate-200 shadow-[0_8px_24px_rgba(15,23,42,0.08)]',\n        text: 'text-slate-900',\n        muted: 'text-slate-600',\n        border: 'border-slate-200',\n        accent: 'bg-blue-600',\n        accentText: 'text-white',\n        accentRing: 'ring-2 ring-blue-500/30',\n        radiusCard: 'rounded-3xl',\n        radiusCardSm: 'rounded-xl',\n        radiusButton: 'rounded-xl',\n        radiusPill: 'rounded-full',\n        heroPadding: 'px-4 pt-14 pb-10',\n        sectionPadding: 'px-4 py-10',\n      }\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 404, "column": 0}, "map": {"version":3,"sources":["file:///Users/gulzhanserikbay/vibe-landing-generator/src/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\n\nexport function supabaseBrowser() {\n  const url = process.env.NEXT_PUBLIC_SUPABASE_URL\n  const anon = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\n  if (!url || !anon) throw new Error('Missing NEXT_PUBLIC_SUPABASE_URL / NEXT_PUBLIC_SUPABASE_ANON_KEY')\n  return createClient(url, anon)\n}\n\nexport function supabaseServer() {\n  const url = process.env.NEXT_PUBLIC_SUPABASE_URL\n  const service = process.env.SUPABASE_SERVICE_ROLE_KEY\n  const anon = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\n\n  if (!url) throw new Error('Missing NEXT_PUBLIC_SUPABASE_URL')\n\n  // Prefer service role for server-side writes. Fallback to anon for quick demo.\n  const key = service || anon\n  if (!key) throw new Error('Missing SUPABASE_SERVICE_ROLE_KEY or NEXT_PUBLIC_SUPABASE_ANON_KEY')\n\n  return createClient(url, key, {\n    auth: { persistSession: false },\n  })\n}\n\nexport function supabaseService() {\n  const url = process.env.NEXT_PUBLIC_SUPABASE_URL\n  const service = process.env.SUPABASE_SERVICE_ROLE_KEY\n  if (!url || !service) throw new Error('Missing NEXT_PUBLIC_SUPABASE_URL / SUPABASE_SERVICE_ROLE_KEY')\n  return createClient(url, service, { auth: { persistSession: false } })\n}\n\nexport function supabaseServerWithAccessToken(accessToken: string) {\n  const url = process.env.NEXT_PUBLIC_SUPABASE_URL\n  const anon = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\n  if (!url || !anon) throw new Error('Missing NEXT_PUBLIC_SUPABASE_URL / NEXT_PUBLIC_SUPABASE_ANON_KEY')\n  if (!accessToken) throw new Error('Missing access token')\n\n  // Use anon key + user JWT so RLS applies server-side.\n  return createClient(url, anon, {\n    auth: { persistSession: false },\n    global: {\n      headers: {\n        Authorization: `Bearer ${accessToken}`,\n      },\n    },\n  })\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAEO,SAAS;IACd,MAAM;IACN,MAAM;IACN;;IACA,OAAO,IAAA,gMAAY,EAAC,KAAK;AAC3B;AAEO,SAAS;IACd,MAAM;IACN,MAAM,UAAU,QAAQ,GAAG,CAAC,yBAAyB;IACrD,MAAM;IAEN;;IAEA,+EAA+E;IAC/E,MAAM,MAAM,WAAW;IACvB;;IAEA,OAAO,IAAA,gMAAY,EAAC,KAAK,KAAK;QAC5B,MAAM;YAAE,gBAAgB;QAAM;IAChC;AACF;AAEO,SAAS;IACd,MAAM;IACN,MAAM,UAAU,QAAQ,GAAG,CAAC,yBAAyB;IACrD,IAAI,CAAC,OAAO,CAAC,SAAS,MAAM,IAAI,MAAM;IACtC,OAAO,IAAA,gMAAY,EAAC,KAAK,SAAS;QAAE,MAAM;YAAE,gBAAgB;QAAM;IAAE;AACtE;AAEO,SAAS,8BAA8B,WAAmB;IAC/D,MAAM;IACN,MAAM;IACN;;IACA,IAAI,CAAC,aAAa,MAAM,IAAI,MAAM;IAElC,sDAAsD;IACtD,OAAO,IAAA,gMAAY,EAAC,KAAK,MAAM;QAC7B,MAAM;YAAE,gBAAgB;QAAM;QAC9B,QAAQ;YACN,SAAS;gBACP,eAAe,CAAC,OAAO,EAAE,aAAa;YACxC;QACF;IACF;AACF"}},
    {"offset": {"line": 471, "column": 0}, "map": {"version":3,"sources":["file:///Users/gulzhanserikbay/vibe-landing-generator/src/app/api/funnel/generate/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server'\nimport { GoogleGenerativeAI } from '@google/generative-ai'\nimport { BrandTokensSchema, FreeformHtmlSchema, LandingContentSchema, SiteBriefSchema, SiteConfigSchema, SiteLayoutSchema, defaultLayoutForContent, tokensForStyle, StyleKey } from '@/lib/siteConfig'\nimport { supabaseService } from '@/lib/supabase'\n\nexport const runtime = 'nodejs'\n\n// Basic HTML sanitization (remove dangerous tags/attributes)\nfunction sanitizeHtml(html: string): string {\n  // Remove script tags and event handlers\n  let sanitized = html\n    .replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi, '')\n    .replace(/on\\w+\\s*=\\s*[\"'][^\"']*[\"']/gi, '')\n    .replace(/javascript:/gi, '')\n    .replace(/<iframe/gi, '<iframe sandbox=\"allow-same-origin allow-scripts\"')\n  return sanitized\n}\n\n// Sanitize JS (remove eval, Function, etc.)\nfunction sanitizeJs(js: string): string {\n  return js\n    .replace(/\\beval\\s*\\(/gi, '/* eval removed */')\n    .replace(/\\bFunction\\s*\\(/gi, '/* Function removed */')\n    .replace(/\\bnew\\s+Function\\s*\\(/gi, '/* new Function removed */')\n    .replace(/document\\.write/gi, '/* document.write removed */')\n    .replace(/innerHTML\\s*=/gi, '/* innerHTML removed */')\n}\n\nexport async function POST(req: Request) {\n  const apiKey = process.env.GEMINI_API_KEY\n  if (!apiKey) return NextResponse.json({ error: 'Missing GEMINI_API_KEY' }, { status: 400 })\n\n  let body: any = null\n  try {\n    body = await req.json()\n  } catch {\n    body = null\n  }\n\n  const leadId = String(body?.leadId || '')\n  const styleKeyRaw = String(body?.styleKey || '')\n  const briefRaw = body?.brief\n  const useFreeform = Boolean(body?.freeform) // Free-form HTML/CSS mode (Cursor-like)\n  if (!leadId) return NextResponse.json({ error: 'leadId required' }, { status: 400 })\n\n  const briefParsed = SiteBriefSchema.safeParse(briefRaw)\n  if (!briefParsed.success) return NextResponse.json({ error: 'Invalid brief' }, { status: 400 })\n\n  const styleParsed = StyleKey.safeParse(styleKeyRaw)\n  if (!styleParsed.success) return NextResponse.json({ error: 'Invalid styleKey' }, { status: 400 })\n\n  const brief = briefParsed.data\n  const styleKey = styleParsed.data as StyleKey\n\n  const genAI = new GoogleGenerativeAI(apiKey)\n  const modelName = (process.env.GEMINI_MODEL || 'models/gemini-2.5-flash').trim()\n  const modelFallbacks = [\n    modelName,\n    'models/gemini-2.5-flash',\n    'models/gemini-2.0-flash',\n    'models/gemini-flash-latest',\n    'models/gemini-2.5-pro',\n  ]\n\n  async function genJson(instruction: string, temperature: number) {\n    let lastErr: any = null\n    for (const m of modelFallbacks) {\n      try {\n        const model = genAI.getGenerativeModel({\n          model: m,\n          generationConfig: { temperature, responseMimeType: 'application/json' },\n        })\n        const res = await model.generateContent(instruction)\n        const text = res.response.text() || '{}'\n        return { json: JSON.parse(text), raw: text, model: m }\n      } catch (e: any) {\n        lastErr = e\n        const msg = String(e?.message || e)\n        const notFound =\n          msg.includes('404') ||\n          msg.toLowerCase().includes('not found') ||\n          msg.toLowerCase().includes('not supported for generatecontent')\n        if (!notFound) break\n      }\n    }\n    throw lastErr || new Error('Gemini failed')\n  }\n\n  // 1) content\n  let content: any = null\n  try {\n    const contentPrompt =\n      'Generate PREMIUM, compelling landing page content in Kazakh (KZ) that converts. Return JSON only.\\n' +\n      'Shape: { \"hero\": { \"badge\": string (short, punchy), \"headline\": string (powerful, benefit-focused, 6-12 words), \"subheadline\": string (clear value prop, 15-25 words) }, ' +\n      '\"stats\"?: { \"title\": string, \"items\": [{ \"label\": string, \"value\": string }] }, ' +\n      '\"features\": { \"title\": string, \"items\": [{ \"title\": string (benefit-focused, 3-6 words), \"description\": string (clear, 10-20 words) }] }, ' +\n      '\"testimonials\"?: { \"title\": string, \"items\": [{ \"name\": string, \"role\": string, \"quote\": string (authentic, specific, 15-30 words) }] }, ' +\n      '\"faq\"?: { \"title\": string, \"items\": [{ \"q\": string (common concern), \"a\": string (helpful, 20-40 words) }] }, ' +\n      '\"pricing\": { \"title\": string, \"plans\": [{ \"name\": string, \"price\": string, \"description\": string (clear value), \"bullets\": [string] (benefits, not features), \"highlighted\": boolean }] }, ' +\n      '\"finalCta\"?: { \"title\": string (action-oriented), \"subtitle\": string (urgency/benefit) }, ' +\n      '\"footer\": { \"note\": string } }.\\n' +\n      '\\n' +\n      'CONTENT QUALITY RULES:\\n' +\n      '1. Headlines: Benefit-focused, specific, emotional. Avoid generic phrases. Use power words.\\n' +\n      '2. Subheadlines: Clear value proposition, address pain point, create desire.\\n' +\n      '3. Features: Focus on benefits, not features. Use \"you\" language. Be specific.\\n' +\n      '4. Testimonials: Authentic, specific results. Include numbers/metrics if possible.\\n' +\n      '5. FAQ: Address real objections, be helpful, build trust.\\n' +\n      '6. Pricing: Clear value, highlight best option, use social proof.\\n' +\n      '7. CTA: Action-oriented, create urgency, clear next step.\\n' +\n      '8. Tone: Match styleKey (minimalist_tech = professional/tech, bold_modern = energetic/bold, clean_corporate = trustworthy/calm).\\n' +\n      '\\n' +\n      `Brief: ${JSON.stringify(brief)}\\n` +\n      `Style: ${styleKey}\\n` +\n      'Constraints: stats.items 2-4; features.items 3-6; testimonials.items 2-4; faq.items 3-6; pricing.plans 2-3; bullets 3-6.\\n' +\n      '\\n' +\n      'OUTPUT: Return content that converts. Every word must earn its place. Be specific, benefit-focused, and compelling.\\n'\n    const out = await genJson(contentPrompt, 0.6)\n    const parsed = LandingContentSchema.safeParse(out.json)\n    if (parsed.success) content = parsed.data\n    else {\n      return NextResponse.json(\n        {\n          error: 'Content schema validation failed',\n          model: out.model,\n          issues: parsed.error.issues,\n          rawPreview: String(out.raw || '').slice(0, 800),\n        },\n        { status: 500 }\n      )\n    }\n  } catch {\n    content = null\n  }\n  if (!content) return NextResponse.json({ error: 'Content generation failed' }, { status: 500 })\n\n  // 1.5) brand tokens (individual design kit with iOS 26-style palette + dark/light mode)\n  let brand: any = null\n  try {\n    const iosColors = [\n      { name: 'blue', light: '#007AFF', dark: '#0A84FF' },\n      { name: 'green', light: '#34C759', dark: '#30D158' },\n      { name: 'orange', light: '#FF9500', dark: '#FF9F0A' },\n      { name: 'red', light: '#FF3B30', dark: '#FF453A' },\n      { name: 'purple', light: '#AF52DE', dark: '#BF5AF2' },\n      { name: 'pink', light: '#FF2D55', dark: '#FF375F' },\n      { name: 'indigo', light: '#5856D6', dark: '#5E5CE6' },\n      { name: 'teal', light: '#5AC8FA', dark: '#64D2FF' },\n      { name: 'mint', light: '#00C7BE', dark: '#66EFE5' },\n    ]\n    const brandPrompt =\n      'Create a PREMIUM brand design system in iOS 26 style with perfect typography pairing. Return JSON only.\\n' +\n      'Shape: { \"brandName\": string, \"colors\": { \"light\": { \"bg\": hex, \"surface\": hex, \"text\": hex, \"muted\": hex, \"border\": hex, \"primary\": hex, \"primaryText\": hex, \"accent\": hex, \"secondary\"?: hex }, ' +\n      '\"dark\": { \"bg\": hex, \"surface\": hex, \"text\": hex, \"muted\": hex, \"border\": hex, \"primary\": hex, \"primaryText\": hex, \"accent\": hex, \"secondary\"?: hex } }, ' +\n      '\"typography\": { \"heading\": \"space\"|\"syne\"|\"manrope\", \"body\": \"inter\"|\"manrope\" }, ' +\n      '\"radius\": { \"card\": \"xl\"|\"2xl\"|\"3xl\", \"button\": \"xl\"|\"2xl\" } }.\\n' +\n      '\\n' +\n      'TYPOGRAPHY RULES (CRITICAL):\\n' +\n      '- \"space\" = Space Grotesk (modern, tech, geometric) - best for tech/startup\\n' +\n      '- \"syne\" = Syne (bold, contemporary) - best for creative/bold brands\\n' +\n      '- \"manrope\" = Manrope (versatile, professional) - best for corporate/clean\\n' +\n      '- Body: \"inter\" = Inter (most readable, modern) - ALWAYS use for body text\\n' +\n      '- Body: \"manrope\" = Manrope (alternative, slightly rounded) - use if brand needs softer feel\\n' +\n      '- Choose pairing: heading should contrast with body (e.g., Space Grotesk + Inter, Syne + Inter, Manrope + Inter).\\n' +\n      '\\n' +\n      'COLOR RULES:\\n' +\n      '- Use iOS 26 system colors for primary/accent: ' +\n      iosColors.map((c) => `${c.name} (light: ${c.light}, dark: ${c.dark})`).join(', ') +\n      '.\\n' +\n      '- For light mode: bg should be #FFFFFF or #F2F2F7 (iOS light gray), surface #FFFFFF, text #000000 or #1C1C1E, muted #8E8E93.\\n' +\n      '- For dark mode: bg should be #000000 or #1C1C1E, surface #1C1C1E or #2C2C2E, text #FFFFFF, muted #98989D.\\n' +\n      '- Choose one iOS system color as primary (match business vibe: tech=blue/indigo, creative=purple/pink, food=orange/red, health=green/teal).\\n' +\n      '- Accent should be a complementary iOS system color or a variation of primary.\\n' +\n      '- Ensure primaryText has sufficient contrast (WCAG AA: 4.5:1 for normal text, 3:1 for large text).\\n' +\n      '\\n' +\n      `styleKey: ${styleKey}\\n` +\n      `business: ${brief.businessName}\\n` +\n      `industryHints: ${JSON.stringify(brief.services)}\\n` +\n      '\\n' +\n      'OUTPUT: Return a premium design system that rivals top-tier brands. Typography pairing must be perfect.\\n'\n    const out = await genJson(brandPrompt, 0.3)\n    const parsed = BrandTokensSchema.safeParse(out.json)\n    if (parsed.success) brand = parsed.data\n  } catch {\n    brand = null\n  }\n\n  // 1.6) brand assets (deterministic SVG bg; avoids external image APIs for MVP)\n  function hashToInt(seed: string) {\n    let h = 2166136261\n    for (let i = 0; i < seed.length; i++) {\n      h ^= seed.charCodeAt(i)\n      h = Math.imul(h, 16777619)\n    }\n    return h >>> 0\n  }\n  function mulberry32(a: number) {\n    return function () {\n      let t = (a += 0x6d2b79f5)\n      t = Math.imul(t ^ (t >>> 15), t | 1)\n      t ^= t + Math.imul(t ^ (t >>> 7), t | 61)\n      return ((t ^ (t >>> 14)) >>> 0) / 4294967296\n    }\n  }\n  function svgBg(seed: string, colors: any) {\n    const r = mulberry32(hashToInt(seed))\n    const w = 1400\n    const h = 800\n    const blobs = Array.from({ length: 6 }).map(() => {\n      const cx = Math.floor(r() * w)\n      const cy = Math.floor(r() * h)\n      const rx = Math.floor(120 + r() * 260)\n      const ry = Math.floor(90 + r() * 220)\n      const rot = Math.floor(r() * 180)\n      const opacity = (0.08 + r() * 0.12).toFixed(3)\n      const fill = r() > 0.5 ? colors.primary : colors.accent\n      return { cx, cy, rx, ry, rot, opacity, fill }\n    })\n\n    const svg =\n      `<?xml version=\"1.0\" encoding=\"UTF-8\"?>` +\n      `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${w}\" height=\"${h}\" viewBox=\"0 0 ${w} ${h}\" preserveAspectRatio=\"xMidYMid slice\">` +\n      `<defs>` +\n      `<linearGradient id=\"g\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"1\">` +\n      `<stop offset=\"0\" stop-color=\"${colors.bg}\"/>` +\n      `<stop offset=\"1\" stop-color=\"${colors.surface}\"/>` +\n      `</linearGradient>` +\n      `<filter id=\"blur\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\">` +\n      `<feGaussianBlur stdDeviation=\"30\"/>` +\n      `</filter>` +\n      `</defs>` +\n      `<rect width=\"100%\" height=\"100%\" fill=\"url(#g)\"/>` +\n      `<g filter=\"url(#blur)\">` +\n      blobs\n        .map(\n          (b) =>\n            `<ellipse cx=\"${b.cx}\" cy=\"${b.cy}\" rx=\"${b.rx}\" ry=\"${b.ry}\" transform=\"rotate(${b.rot} ${b.cx} ${b.cy})\" fill=\"${b.fill}\" fill-opacity=\"${b.opacity}\"/>`\n        )\n        .join('') +\n      `</g>` +\n      `</svg>`\n    return svg\n  }\n\n  if (brand && !brand.assets?.heroBgSvg) {\n    // Use light mode colors for SVG bg (will adapt via CSS in dark mode)\n    const seed = `${brief.businessName}|${styleKey}|${brand.colors.light.primary}|${brand.colors.light.accent}`\n    brand = { ...brand, assets: { ...(brand.assets || {}), heroBgSvg: svgBg(seed, brand.colors.light) } }\n  }\n\n  // 2) freeform HTML/CSS/JS generation (Cursor-like) OR component-driven layout\n  let freeform: any = null\n  let layout = defaultLayoutForContent(content)\n\n  if (useFreeform) {\n    // Free-form HTML/CSS/JS generation\n    try {\n      const freeformPrompt =\n        'Generate a PREMIUM, world-class landing page HTML/CSS/JS that rivals top-tier SaaS products (Vercel, Linear, Stripe quality). Return JSON only with shape: { \"html\": string (complete HTML), \"css\"?: string (optional separate CSS), \"js\"?: string (optional JS, no eval/Function) }.\\n' +\n        '\\n' +\n        'CRITICAL DESIGN REQUIREMENTS:\\n' +\n        '1. TYPOGRAPHY (MUST BE PERFECT):\\n' +\n        '   - Use premium Google Fonts via @import in CSS: Inter (body), Space Grotesk or Poppins (headings), or Playfair Display (elegant headings).\\n' +\n        '   - Typography scale: h1: 3.5-4.5rem (56-72px), h2: 2.5-3rem (40-48px), h3: 1.75-2rem (28-32px), body: 1rem (16px), small: 0.875rem (14px).\\n' +\n        '   - Line height: 1.2-1.3 for headings, 1.5-1.6 for body text.\\n' +\n        '   - Letter spacing: -0.02em to -0.03em for headings, 0 for body.\\n' +\n        '   - Font weights: 400 (body), 500-600 (medium), 700 (bold headings).\\n' +\n        '\\n' +\n        '2. VISUAL DESIGN (PREMIUM QUALITY):\\n' +\n        '   - iOS 26 style: vibrant system colors, glassmorphism (backdrop-filter: blur(20px)), smooth shadows.\\n' +\n        '   - Spacing system: 4px base (4, 8, 12, 16, 24, 32, 48, 64, 96px).\\n' +\n        '   - Border radius: 12px (cards), 16px (buttons), 24px (large cards), 999px (pills).\\n' +\n        '   - Shadows: subtle, layered (0 1px 3px rgba(0,0,0,0.1), 0 4px 12px rgba(0,0,0,0.15)).\\n' +\n        '   - Gradients: subtle, modern (linear-gradient, radial-gradient).\\n' +\n        '   - Animations: smooth transitions (200-300ms ease-out), hover effects, scroll animations.\\n' +\n        '\\n' +\n        '3. LAYOUT & STRUCTURE:\\n' +\n        '   - Mobile-first responsive design (max-width: 1280px container, padding: 24px mobile, 48px desktop).\\n' +\n        '   - Grid system: CSS Grid for complex layouts, Flexbox for simple alignment.\\n' +\n        '   - White space: generous, breathing room between sections (64-96px vertical spacing).\\n' +\n        '   - Visual hierarchy: clear, strong contrast between sections.\\n' +\n        '\\n' +\n        '4. COLOR & THEME:\\n' +\n        '   - Use brand colors from Brand object if provided.\\n' +\n        '   - Dark/light mode via CSS variables (--color-bg, --color-text, --color-primary).\\n' +\n        '   - High contrast ratios (WCAG AA minimum).\\n' +\n        '   - Accent colors: vibrant, saturated (iOS 26 system colors).\\n' +\n        '\\n' +\n        '5. INTERACTIVE ELEMENTS:\\n' +\n        '   - Buttons: large (48px height), rounded (16px), with hover/active states.\\n' +\n        '   - Cards: elevated, with subtle shadows, hover lift effect.\\n' +\n        '   - Forms: clean inputs, proper focus states, smooth transitions.\\n' +\n        '\\n' +\n        '6. CODE QUALITY:\\n' +\n        '   - HTML: semantic, accessible (nav, main, section, article, footer).\\n' +\n        '   - CSS: organized, use CSS variables for theming, no inline styles in HTML (use <style> tag).\\n' +\n        '   - JS: vanilla JS only, smooth scroll, form handling, no dangerous functions.\\n' +\n        '   - No external dependencies (no CDN, no frameworks).\\n' +\n        '\\n' +\n        '7. CONTENT INTEGRATION:\\n' +\n        '   - Use provided Content object for all text.\\n' +\n        '   - Use Brand colors/typography if provided.\\n' +\n        '   - Match Style key aesthetic (minimalist_tech = clean/tech, bold_modern = vibrant/bold, clean_corporate = professional/calm).\\n' +\n        '\\n' +\n        `Brief: ${JSON.stringify(brief)}\\n` +\n        `Style: ${styleKey}\\n` +\n        `Content: ${JSON.stringify(content)}\\n` +\n        `Brand: ${brand ? JSON.stringify(brand) : 'null'}\\n` +\n        '\\n' +\n        'OUTPUT: Return a complete, production-ready HTML page that looks like it was designed by a top-tier design agency. Every pixel must be perfect.\\n'\n      const out = await genJson(freeformPrompt, 0.7)\n      const parsed = FreeformHtmlSchema.safeParse(out.json)\n      if (parsed.success) {\n        freeform = {\n          html: sanitizeHtml(parsed.data.html),\n          css: parsed.data.css ? sanitizeHtml(parsed.data.css) : undefined,\n          js: parsed.data.js ? sanitizeJs(parsed.data.js) : undefined,\n        }\n      }\n    } catch {\n      // Fallback to component-driven\n      freeform = null\n    }\n  } else {\n    // Component-driven layout\n    try {\n      const layoutPrompt =\n        'Create a PREMIUM section layout plan that maximizes visual impact and conversion. Return JSON only with shape { \"sections\": [{ \"type\": \"hero\"|\"stats\"|\"features\"|\"pricing\"|\"testimonials\"|\"faq\"|\"lead\"|\"footer\", \"variant\"?: string, \"anchor\"?: string }] }.\\n' +\n        '\\n' +\n        'LAYOUT RULES:\\n' +\n        '1. Structure: hero first, footer last; use anchors for features/pricing/faq/lead.\\n' +\n        '2. Visual Flow: Create a narrative journey (hero → stats → features → pricing → testimonials → faq → lead).\\n' +\n        '3. Variant Selection: Choose at least 3 non-default variants to create visual diversity and interest.\\n' +\n        '\\n' +\n        'STYLE-SPECIFIC VARIANT PREFERENCES:\\n' +\n        '- clean_corporate: hero centered (trustworthy), pricing table (comparison-focused), faq cards (scannable), testimonials quotes (elegant).\\n' +\n        '- bold_modern: hero split (dynamic), features zigzag (energetic), testimonials cards (vibrant), pricing cards (bold), faq accordion (interactive).\\n' +\n        '- minimalist_tech: hero minimal or centered (clean), features grid (organized), pricing cards (simple), testimonials quotes (subtle), faq accordion (minimal).\\n' +\n        '\\n' +\n        'AVAILABLE VARIANTS:\\n' +\n        '- hero: split (image left, text right) | centered (text center, balanced) | minimal (ultra-clean, text-focused)\\n' +\n        '- features: grid (3-column cards) | zigzag (alternating left/right) | list (vertical, compact)\\n' +\n        '- pricing: cards (side-by-side plans) | table (comparison table) | compare (feature comparison)\\n' +\n        '- testimonials: quotes (large quote style) | cards (card-based) | marquee (carousel)\\n' +\n        '- faq: accordion (expandable) | cards (grid of Q&A cards)\\n' +\n        '- lead: form (full form) | cta (simple CTA button)\\n' +\n        '\\n' +\n        `styleKey: ${styleKey}\\n` +\n        `brand: ${brand ? JSON.stringify(brand) : 'null'}\\n` +\n        `hasStats: ${Boolean(content.stats)}; hasTestimonials: ${Boolean(content.testimonials)}; hasFaq: ${Boolean(content.faq)}\\n` +\n        '\\n' +\n        'OUTPUT: Return a layout that creates visual interest, guides the eye, and maximizes conversion. Every section variant should serve a purpose.\\n'\n      const out = await genJson(layoutPrompt, 0.2)\n      const parsed = SiteLayoutSchema.safeParse(out.json)\n      if (parsed.success) layout = parsed.data\n    } catch {\n      // keep default\n    }\n  }\n\n  const config = {\n    version: 1 as const,\n    styleKey,\n    tokens: tokensForStyle(styleKey),\n    brand,\n    brief,\n    content,\n    layout: freeform ? undefined : layout,\n    freeform: freeform || undefined,\n  }\n  const validated = SiteConfigSchema.safeParse(config)\n  if (!validated.success) return NextResponse.json({ error: 'Config validation failed' }, { status: 500 })\n\n  let supabase: ReturnType<typeof supabaseService>\n  try {\n    supabase = supabaseService()\n  } catch (e: any) {\n    return NextResponse.json(\n      { error: 'Server misconfigured: set SUPABASE_SERVICE_ROLE_KEY', details: String(e?.message || e) },\n      { status: 500 }\n    )\n  }\n  const insert = await supabase\n    .from('sites')\n    .insert({ brief, config: validated.data, style_key: styleKey })\n    .select('id')\n    .single()\n  if (insert.error) return NextResponse.json({ error: insert.error.message }, { status: 500 })\n\n  const siteId = insert.data.id\n\n  // link lead -> site\n  await supabase.from('leads').update({ site_id: siteId, style_key: styleKey }).eq('id', leadId)\n\n  // kick screenshots (best-effort)\n  const origin = req.headers.get('origin') || ''\n  const baseUrl =\n    process.env.NEXT_PUBLIC_SITE_URL ||\n    (process.env.VERCEL_URL ? `https://${process.env.VERCEL_URL}` : origin) ||\n    ''\n  if (baseUrl) {\n    fetch(`${baseUrl}/api/screenshot`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ siteId, view: 'desktop', kind: 'legacy_site' }),\n    }).catch(() => {})\n    fetch(`${baseUrl}/api/screenshot`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ siteId, view: 'mobile', kind: 'legacy_site' }),\n    }).catch(() => {})\n  }\n\n  return NextResponse.json({ siteId, siteUrl: `/site/${siteId}` })\n}\n\n"],"names":[],"mappings":"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"}}]
}