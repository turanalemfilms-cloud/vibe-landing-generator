{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///Users/gulzhanserikbay/vibe-landing-generator/src/lib/mockStore.ts"],"sourcesContent":["import type { SiteConfig } from '@/lib/siteConfig'\nimport path from 'path'\nimport { promises as fs } from 'fs'\n\ntype MockStore = Map<string, SiteConfig>\n\nconst MOCK_DIR = path.join(process.cwd(), '.mock-data')\nconst MOCK_FILE = path.join(MOCK_DIR, 'sites.json')\n\nfunction getStore(): MockStore {\n  const globalForMock = globalThis as unknown as { __mockSites?: MockStore }\n  if (!globalForMock.__mockSites) {\n    globalForMock.__mockSites = new Map()\n  }\n  return globalForMock.__mockSites\n}\n\nasync function readDiskStore(): Promise<Record<string, SiteConfig>> {\n  try {\n    const raw = await fs.readFile(MOCK_FILE, 'utf8')\n    const parsed = JSON.parse(raw || '{}')\n    return parsed || {}\n  } catch (e: any) {\n    if (e?.code === 'ENOENT') return {}\n    return {}\n  }\n}\n\nasync function writeDiskStore(data: Record<string, SiteConfig>) {\n  await fs.mkdir(MOCK_DIR, { recursive: true })\n  await fs.writeFile(MOCK_FILE, JSON.stringify(data, null, 2), 'utf8')\n}\n\nasync function loadStore(): Promise<MockStore> {\n  const store = getStore()\n  if (store.size > 0) return store\n  const disk = await readDiskStore()\n  for (const [key, value] of Object.entries(disk)) {\n    store.set(key, value)\n  }\n  return store\n}\n\nexport async function saveMockSite(config: SiteConfig) {\n  const id = globalThis.crypto?.randomUUID?.() || `mock-${Date.now()}-${Math.random().toString(36).slice(2, 8)}`\n  const store = await loadStore()\n  store.set(id, config)\n  await writeDiskStore(Object.fromEntries(store))\n  return id\n}\n\nexport async function getMockSite(id: string) {\n  const store = await loadStore()\n  return store.get(id) || null\n}\n"],"names":[],"mappings":";;;;;;AACA;AACA;;;AAIA,MAAM,WAAW,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;AAC1C,MAAM,YAAY,4GAAI,CAAC,IAAI,CAAC,UAAU;AAEtC,SAAS;IACP,MAAM,gBAAgB;IACtB,IAAI,CAAC,cAAc,WAAW,EAAE;QAC9B,cAAc,WAAW,GAAG,IAAI;IAClC;IACA,OAAO,cAAc,WAAW;AAClC;AAEA,eAAe;IACb,IAAI;QACF,MAAM,MAAM,MAAM,yGAAE,CAAC,QAAQ,CAAC,WAAW;QACzC,MAAM,SAAS,KAAK,KAAK,CAAC,OAAO;QACjC,OAAO,UAAU,CAAC;IACpB,EAAE,OAAO,GAAQ;QACf,IAAI,GAAG,SAAS,UAAU,OAAO,CAAC;QAClC,OAAO,CAAC;IACV;AACF;AAEA,eAAe,eAAe,IAAgC;IAC5D,MAAM,yGAAE,CAAC,KAAK,CAAC,UAAU;QAAE,WAAW;IAAK;IAC3C,MAAM,yGAAE,CAAC,SAAS,CAAC,WAAW,KAAK,SAAS,CAAC,MAAM,MAAM,IAAI;AAC/D;AAEA,eAAe;IACb,MAAM,QAAQ;IACd,IAAI,MAAM,IAAI,GAAG,GAAG,OAAO;IAC3B,MAAM,OAAO,MAAM;IACnB,KAAK,MAAM,CAAC,KAAK,MAAM,IAAI,OAAO,OAAO,CAAC,MAAO;QAC/C,MAAM,GAAG,CAAC,KAAK;IACjB;IACA,OAAO;AACT;AAEO,eAAe,aAAa,MAAkB;IACnD,MAAM,KAAK,WAAW,MAAM,EAAE,kBAAkB,CAAC,KAAK,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,KAAK,CAAC,GAAG,IAAI;IAC9G,MAAM,QAAQ,MAAM;IACpB,MAAM,GAAG,CAAC,IAAI;IACd,MAAM,eAAe,OAAO,WAAW,CAAC;IACxC,OAAO;AACT;AAEO,eAAe,YAAY,EAAU;IAC1C,MAAM,QAAQ,MAAM;IACpB,OAAO,MAAM,GAAG,CAAC,OAAO;AAC1B"}}]
}